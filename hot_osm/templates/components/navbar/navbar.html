<header x-data="{ isOpen: false, isSearchClicked: false }">
    <!-- Search overlay -->
    <div x-show="isSearchClicked"
         class="relative z-10"
         role="dialog"
         aria-modal="true">
        <!-- Background backdrop, show/hide based on modal state -->
        <div x-transition:enter="ease-out duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="ease-in duration-200"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0"
             class="fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto p-4 sm:p-6 md:p-20">
            <!-- Command palette, show/hide based on modal state -->
            <div @click.outside="isSearchClicked = false"
                 @keydown.escape.window="isSearchClicked = false"
                 x-transition:enter="ease-out duration-300 transform"
                 x-transition:enter-start="opacity-0 scale-95"
                 x-transition:enter-end="opacity-100 scale-100"
                 x-transition:leave="ease-in duration-200 transform"
                 x-transition:leave-start="opacity-100 scale-100"
                 x-transition:leave-end="opacity-0 scale-95"
                 class="font-archivo mx-auto max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all">
                <div class="relative">
                    <svg class="pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-gray-400"
                         viewBox="0 0 20 20"
                         fill="currentColor"
                         aria-hidden="true">
                        <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                    </svg>
                    <input type="text"
                           class="h-12 w-full border-0 bg-transparent pl-11 pr-4 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm"
                           placeholder="Search..."
                           role="combobox"
                           aria-expanded="false"
                           aria-controls="options">
                </div>
                <!-- Results, show/hide based on command palette state -->
                <ul class="max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800"
                    id="options"
                    role="listbox">
                    <!-- Active: "bg-indigo-600 text-white" -->
                    <li class="cursor-default select-none px-4 py-2"
                        id="option-1"
                        role="option"
                        tabindex="-1">Disasters &amp; Climate Resilience</li>
                    <li class="cursor-default select-none px-4 py-2"
                        id="option-2"
                        role="option"
                        tabindex="-1">Public Health</li>
                    <li class="cursor-default select-none px-4 py-2"
                        id="option-3"
                        role="option"
                        tabindex="-1">Remote Mapping Projects</li>
                    <li class="cursor-default select-none px-4 py-2"
                        id="option-4"
                        role="option"
                        tabindex="-1">Latin America &amp; The Carribean</li>
                    <li class="cursor-default select-none px-4 py-2"
                        id="option-5"
                        role="option"
                        tabindex="-1">Gender Equality</li>
                </ul>
                <!-- Empty state, show/hide based on command palette state -->
                <p class="p-4 text-sm text-gray-500">No post found.</p>
            </div>
        </div>
    </div>
    <!--Desktop banner-->
    <div class="hidden nav-breakpoint:block border-b border-hot-light">
        <div class="flex h-12 mx-auto max-w-7xl px-2 justify-between items-center">
            <!-- Social media icons -->
            {% include "../branded_elements/social_icons.html" %}
            <!-- Search, Language, News, Contact Us -->
            <ul class="font-medium font-barlow text-base-16 items-center text-hot-black border-gray-100 bg-transparent flex border-0"
                role="navigation"
                aria-label="Secondary Menu">
                <li>
                    <a @click="isSearchClicked = !isSearchClicked"
                       href="#"
                       aria-label="Search">
                        <svg class="h-5 w-5 mr-6 hover:cursor-pointer flex"
                             viewBox="0 0 20 20"
                             fill="currentColor"
                             aria-hidden="true">
                            <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </li>
                <li>{% include "../branded_elements/link.html" with link="#" text="EN" classes="py-2 pr-5" parent=True %}</li>
                <li>{% include "../branded_elements/link.html" with link="#" text="News" classes="py-2 px-3" %}</li>
                <li>{% include "../branded_elements/link.html" with link="#" text="Contact Us" classes="py-2 px-3" %}</li>
            </ul>
        </div>
    </div>
    <div class="mx-auto max-w-7xl p-hot-1.5 flex flex-wrap items-center justify-between">
        <a class="h-10" href="#">{% include "../branded_elements/logo.html" %}</a>
        <!-- Mobile search icon -->
        <div class="relative z-0 flex items-center justify-end">
            <svg @click="isSearchClicked = !isSearchClicked"
                 class="nav-breakpoint:hidden h-5 w-5 mr-hot-1.2 hover:cursor-pointer text-gray-500"
                 width="viewBox"
                 width="0 0 20 20"
                 fill="currentColor"
                 aria-hidden="true"
                 alt="Search">
                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
            </svg>
            <!-- Mobile menu button -->
            <button type="button"
                    @click="isOpen = !isOpen"
                    class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-inset nav-breakpoint:hidden"
                    aria-controls="mobile-menu"
                    aria-expanded="false">
                <span class="absolute -inset-0.5"></span>
                <span class="sr-only">Open main menu</span>
                <!--
                Icon when menu is closed.

                Menu open: "hidden", Menu closed: "block"
              -->
                <svg x-show="!isOpen"
                     class="h-6 w-6"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke-width="1.5"
                     stroke="currentColor"
                     aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
                <!--
                Icon when menu is open.

                Menu open: "block", Menu closed: "hidden"
              -->
                <svg x-show="isOpen"
                     class="h-6 w-6"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke-width="1.5"
                     stroke="currentColor"
                     aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <!-- Desktop navigation -->
        <div class="hidden nav-breakpoint:block">
            <nav>
                <ul class="flex text-base-18 p-0 flex-row space-x-4 mt-0 border-0"
                    aria-label="main">
                    <li>{% include "../branded_elements/link.html" with link="#" text="Who We Are" classes="py-2 px-3" parent=True %}</li>
                    <li>{% include "../branded_elements/link.html" with link="#" text="Our Work" classes="py-2 px-3" parent=True %}</li>
                    <li>
                        {% include "../branded_elements/link.html" with link="#" text="Our Mapping Hubs" classes="py-2 px-3" parent=True %}
                    </li>
                    <li>
                        {% include "../branded_elements/link.html" with link="#" text="Tools &amp; Resources" classes="py-2 px-3" parent=True %}
                    </li>
                    <li>
                        {% include "../branded_elements/link.html" with link="#" text="Get Involved" classes="py-2 px-3" parent=True %}
                    </li>
                    <li>{% include "../branded_elements/button.html" with text="Start Mapping" classes="nav-breakpoint:ml-3" %}</li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- Mobile navigation -->
    <div x-show="isOpen"
         @click.outside="isOpen = false"
         class="font-barlow nav-breakpoint:hidden"
         id="mobile-menu">
        <nav class="space-y-1 pb-3 pt-2 font-medium text-base-18"
             aria-label="Global - Mobile">
            <ul class="list-none pl-0">
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="Who We Are" selected=True parent=True %}</li>
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="Our Work" parent=True %}</li>
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="Open Mapping Hubs" parent=True %}</li>
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="Tools &amp; Resources" parent=True %}</li>
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="Get Involved" parent=True %}</li>
                <li>{% include "../branded_elements/button.html" with text="Start Mapping" classes="my-2 ml-3 mr-4" %}</li>
            </ul>
        </nav>
        <nav class="border-t border-b border-gray-200 py-2">
            <ul class="space-y-0.5 list-none pl-0">
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="EN" parent=True classes="px-4" %}</li>
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="News" classes="px-4" %}</li>
                <li>{% include "../mobile/mobile_menu_link.html" with link="#" text="Contact Us" classes="px-4" %}</li>
            </ul>
        </nav>
    </div>
</header>
